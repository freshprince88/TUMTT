<Controls:MetroWindow x:Class="TT.Viewer.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:lib="clr-namespace:TT.Lib.Util;assembly=TT.Lib"
                   
        Width="600"
        Height="800"
        EnableDWMDropShadow="True"
        ResizeMode="CanResizeWithGrip"

        WindowTransitionsEnabled="False"
        WindowStartupLocation="CenterScreen"
        Title="TUM TT">
    

    <Window.Resources>
        <lib:Visibility2BoolConverter x:Key="bvc2" />
        <lib:Column2TabConverter x:Key="c2tc" />
        <lib:TabSizeConverter x:Key="tabSizeConverter" />        

        <!--<Style BasedOn="{StaticResource {x:Type TabItem}}" TargetType="{x:Type TabItem}">
            <Setter Property="Height">
                <Setter.Value>
                    <MultiBinding Converter="{StaticResource tabSizeConverter}">
                        <Binding ElementName="HeaderTabControl" Path="ActualHeight" />
                        <Binding ElementName="HeaderTabControl" Path="Items" />
                    </MultiBinding>
                </Setter.Value>
            </Setter>
        </Style>-->
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="Column1" Width="{Binding Path=IsExpanded, ElementName=MenuExpander, Converter={StaticResource c2tc}}"/>
            <ColumnDefinition x:Name="Column2" Width="*"/>
            <ColumnDefinition x:Name="Column3" Width="*"/>
        </Grid.ColumnDefinitions>

        <Expander x:Name="MenuExpander" ExpandDirection="Right" Margin="0 0 0 0">
            <Expander.Header>
                <TabControl x:Name="HeaderTabControl" TabStripPlacement="Left">
                    <TabItem x:Name="PositionsTabHeader" Header="1"/>
                    <TabItem x:Name="OrdersTabHeader" Header="2"/>
                    <TabItem x:Name="TradesTabHeader" Header="3"/>
                </TabControl>
            </Expander.Header>
            <TabControl>
                <TabItem Visibility="Collapsed"
                 IsSelected="{Binding ElementName=PositionsTabHeader, Path=IsSelected}">
                    Positions go here
                </TabItem>
                <TabItem Visibility="Collapsed"
                 IsSelected="{Binding ElementName=OrdersTabHeader, Path=IsSelected}">
                    Orders go here
                </TabItem>
                <TabItem Visibility="Collapsed"
                 IsSelected="{Binding ElementName=TradesTabHeader, Path=IsSelected}">
                    Trades go here
                </TabItem>
            </TabControl>
        </Expander>
        <Border Grid.Column="1" BorderThickness="0 0 0 0" BorderBrush="Black">

        </Border>
        <Border Grid.Column="2" BorderThickness="1 0 0 0" BorderBrush="Black">

        </Border>
    </Grid>
</Controls:MetroWindow>
    
    